CREATE TABLE PRODUTOS(
	ID_PRODUTO UUID DEFAULT UUID_GENERATE_V4(),
	ID_USUARIO UUID REFERENCES USUARIOS(ID_USUARIO) ON DELETE CASCADE,
	NOME TEXT NOT NULL,
	DESCRICAO TEXT NOT NULL,
	VALOR_BASE_DIARIA DOUBLE PRECISION NOT NULL,
	VALOR_BASE_MENSAL DECIMAL(16,2)L,
	VALOR_PRODUTO DECIMAL(16,2),
	DATA_COMPRA DATE,
	CAPA_FOTO TEXT,
	FOTOS TEXT[],
	ATIVO BOOLEAN DEFAULT TRUE,
	DATA_INCLUSAO TIMESTAMPTZ DEFAULT timezone('America/Sao_Paulo', CURRENT_TIMESTAMP),
	DATA_MODIFICACAO TIMESTAMPTZ,
	PRIMARY KEY(ID_PRODUTO),
	UNIQUE(ID_PRODUTO, ID_USUARIO)
);
	
CREATE UNIQUE INDEX IX_TBL_PRODUTOS ON PRODUTOS (ID_PRODUTO, ID_USUARIO, NOME, DESCRICAO, VALOR_PRODUTO, DATA_COMPRA, DATA_INCLUSAO);