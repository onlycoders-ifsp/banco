CREATE TABLE ALUGUEIS(
	ID_ALUGUEL UUID DEFAULT UUID_GENERATE_V4(),
	ID_USUARIO UUID REFERENCES USUARIOS(ID_USUARIO) ON DELETE CASCADE,
	ID_PRODUTO UUID REFERENCES PRODUTOS(ID_PRODUTO),
	TOKEN_API TEXT NOT NULL,
	DATA_INICIO DATE NOT NULL,
	DATA_FIM DATE NOT NULL,
	VALOR_ALUGUEL DECIMAL(16,2) NOT NULL,
	ID_STATUS_ALUGUEL UUID REFERENCES STATUS_ALUGUEL(ID_STATUS_ALUGUEL),
	VALOR_DEBITO DECIMAL(16,2) NOT NULL,
	DATA_SAQUE DATE NOT NULL,
	DATA_INCLUSAO TIMESTAMPTZ DEFAULT timezone('America/Sao_Paulo', CURRENT_TIMESTAMP),
	DATA_MODIFICACAO TIMESTAMPTZ,
	PRIMARY KEY(ID_ALUGUEL)
);
	
CREATE UNIQUE INDEX IX_TBL_ALUGUEIS ON ALUGUEIS (DATA_INICIO,DATA_FIM,VALOR_ALUGUEL);