CREATE TABLE TRADUCOES(
	ID_TRADUCAO UUID DEFAULT UUID_GENERATE_V4(),
	ID_IDIOMA UUID REFERENCES IDIOMAS(ID_IDIOMA),
	KEY VARCHAR(50) NOT NULL,
	VALUE TEXT NOT NULL,
	DATA_INCLUSAO TIMESTAMPTZ DEFAULT timezone('America/Sao_Paulo', CURRENT_TIMESTAMP),
	DATA_MODIFICACAO TIMESTAMPTZ NULL,
	PRIMARY KEY(ID_TRADUCAO)
);
	
CREATE UNIQUE INDEX IX_TBL_TRADUCOES ON TRADUCOES (ID_TRADUCAO, ID_IDIOMA, KEY, VALUE, DATA_INCLUSAO);

/*
DO $$ 
DECLARE
P_ID_IDIOMA UUID;
BEGIN

	SELECT ID_IDIOMA INTO P_ID_IDIOMA
	FROM IDIOMAS WHERE CODIGO = 'pt-BR';

	INSERT INTO TRADUCOES(ID_IDIOMA, KEY, VALUE)
	VALUES(P_ID_IDIOMA, 'BoasVindas', 'Bem vinda(o)');
END $$;
*/