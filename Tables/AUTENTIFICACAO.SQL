CREATE TABLE AUTENTIFICACAO(
	ID_AUTENTIFICACAO UUID DEFAULT UUID_GENERATE_V4(),
	ID_USUARIO UUID REFERENCES USUARIOS(ID_USUARIO) ON DELETE CASCADE,
	PASSWORD TEXT NOT NULL,
	LOGIN VARCHAR(50) NOT NULL
	PRIMARY KEY(ID_AUTENTIFICACAO),
	UNIQUE(ID_USUARIO, PASSWORD),
	DATA_INCLUSAO TIMESTAMPTZ DEFAULT timezone('America/Sao_Paulo', CURRENT_TIMESTAMP),
	DATA_MODIFICACAO TIMESTAMPTZ NULL
);

CREATE UNIQUE INDEX IX_TBL_AUTENTIFICACAO ON AUTENTIFICACAO(ID_AUTENTIFICACAO, ID_USUARIO, PASSWORD, LOGIN, DATA_INCLUSAO);