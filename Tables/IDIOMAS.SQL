CREATE TABLE IDIOMAS(
	ID_IDIOMA UUID DEFAULT UUID_GENERATE_V4(),
	CODIGO CHAR(5) NOT NULL UNIQUE,
	DESCRICAO VARCHAR(100) NOT NULL UNIQUE,
	DATA_INCLUSAO TIMESTAMPTZ DEFAULT timezone('America/Sao_Paulo', CURRENT_TIMESTAMP),
	DATA_MODIFICACAO TIMESTAMPTZ,
	PRIMARY KEY(ID_IDIOMA)
);
	
CREATE UNIQUE INDEX IX_TBL_IDIOMAS ON IDIOMAS (ID_IDIOMA, codigo, descricao, DATA_INCLUSAO);

CREATE TRIGGER TG_ON_UPDATED_IDIOMAS
	BEFORE UPDATE ON IDIOMAS
	FOR EACH ROW
	EXECUTE PROCEDURE FC_ON_UPDATED();