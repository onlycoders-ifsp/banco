CREATE OR REPLACE FUNCTION FN_INSERIR_LOGIN(P_ID_USUARIO UUID, P_SENHA TEXT)
RETURNS BOOLEAN AS $$
DECLARE STATE TEXT;
DECLARE ERRO TEXT;
BEGIN
	INSERT INTO AUTENTIFICACAO(ID_USUARIO, PASSWORD)
	VALUES(P_ID_USUARIO, CRYPT(P_SENHA,gen_salt('bf')));
	RETURN TRUE;
	
	EXCEPTION WHEN OTHERS THEN
		PERFORM FN_REPORT_ERRO('ERRO AO INSERIR LOGIN', sqlstate, sqlerrm);
		RETURN FALSE;
END;
$$  LANGUAGE plpgsql