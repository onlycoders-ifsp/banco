CREATE OR REPLACE FUNCTION FN_DELETA_PRODUTO(P_ID_PRODUTO UUID)
RETURNS BOOLEAN AS $$
BEGIN

	update produtos
	set isdeletado = true
	where id_produto =  P_ID_PRODUTO;
	
	RETURN TRUE;
	
	EXCEPTION WHEN OTHERS THEN
		PERFORM FN_REPORT_ERRO('ERRO AO ATUALIZAR PRODUTO', SQLSTATE, SQLERRM);
		RETURN FALSE;
END;
$$ LANGUAGE PLPGSQL;

/*
SELECT FN_DELETA_PRODUTO('98f7ff8b-102d-495d-8357-900957fb586b')
*/