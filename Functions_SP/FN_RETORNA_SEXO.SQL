CREATE OR REPLACE FUNCTION FN_RETORNA_SEXO()
RETURNS SETOF RECORD AS $$
DECLARE
BEGIN
	RETURN QUERY 
		SELECT S.COD_SEXO, S.DESCRICAO
		FROM SEXO S
		ORDER BY 1;
				 
	EXCEPTION WHEN OTHERS THEN
			PERFORM FN_REPORT_ERRO('ERRO AO SELECIONAR SEXOS', SQLSTATE, SQLERRM);
END;
$$ LANGUAGE PLPGSQL;

/*
SELECT *FROM FN_RETORNA_SEXO()
			AS T(COD_SEXO INT, DESCRICAO TEXT);
*/